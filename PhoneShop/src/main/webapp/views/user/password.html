<!DOCTYPE html>
<html
	th:replace="~{layout/base-layout :: layout(~{::title}, ~{::body}, ~{})}"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
<title th:text="#{title.users.password}">Change Password</title>
</head>

<body>
	<div class="container mt-5">
		<h1 style="text-align: center; padding-top: 30px;">Change
			Password</h1>
		<form class="main-body" th:method="PUT"
			th:action="@{'/user/'+${user.id}+'/password'}" th:object="${user}">
			<div class="row gutters-sm">
				<div class="col-md-8">
					<div class="card mb-3">
						<div class="card-body">
							<div class="row">
								<div class="col-sm-3">
									<h6 class="mb-0" th:text="#{user.form.oldPassword}">Old
										password</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									<input type="password" class="form-control"
										th:field="*{oldPassword}"
										th:placeholder="#{user.form.oldPassword}" autofocus
										th:classappend="${#fields.hasErrors('password')}? 'fieldError'" />
									<p th:if="${#fields.hasErrors('oldPassword')}"
										th:errors="*{oldPassword}" class="error">Incorrect old
										password</p>
								</div>
							</div>
							<hr>
							<div class="row">
								<div class="col-sm-3">
									<h6 class="mb-0" th:text="#{user.form.password}">Password</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									<input type="password" class="form-control"
										th:field="*{password}" th:placeholder="#{user.form.password}"
										autofocus
										th:classappend="${#fields.hasErrors('password')}? 'fieldError'" />
									<p th:if="${#fields.hasErrors('password')}"
										th:errors="*{password}" class="error">Incorrect password</p>
								</div>
							</div>
							<hr>
							<div class="row">
								<div class="col-sm-3">
									<h6 class="mb-0" th:text="#{user.form.confirmPassword}">Confirm
										password</h6>
								</div>
								<div class="col-sm-9 text-secondary">
									<input type="password" class="form-control"
										th:field="*{confirmPassword}"
										th:placeholder="#{user.form.confirmPassword}" autofocus
										th:classappend="${#fields.hasErrors('confirmPassword')}? 'fieldError'" />
									<p th:if="${#fields.hasErrors('confirmPassword')}"
										th:errors="*{confirmPassword}" class="error">Incorrect
										confirm password</p>
								</div>
							</div>
							<hr>
							<div>
								<input type="hidden" th:field="*{email}"
									th:value="${user.email}" />
							</div>
							<div>
								<input type="hidden" th:field="*{userName}"
									th:value="${user.userName}" />
							</div>
							<div>
								<input type="hidden" th:field="*{phone}"
									th:value="${user.phone}" />
							</div>
						</div>
					</div>
					<div class="text-right">
						<button type="submit" class="col-5 btn btn-primary"
							th:text="#{user.form.save}">Save</button>
						<a class="col-5 btn btn-danger" th:href="@{'/users/'+${user.id}}"
							th:text="#{user.form.cancel}">Cancel</a>
					</div>
				</div>
			</div>
		</form>
	</div>
</body>

</html>
